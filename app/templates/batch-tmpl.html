<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"> 


<div class="row">



	<div data-ng-show="batch.batches">
		<div>{{batch.batches.name}}</div>
	</div>


</div>
</div>
<div class="row" ng-controller="getAllBatches as getAll">
	<div class="col-md-12" ng-controller="TabsDemoCtrl as tabctrl">

<div class="row" data-ng-controller="BatchCtrl as batch">
<div class="row" data-ng-controller="getAllBatches as getAll">
	<div class="col-md-12" data-ng-controller="TabsDemoCtrl as tabctrl">
		<uib-tabset type="pills"> <uib-tab heading="Create Batch"
			classes="btn-sm">
		<div class="col-md-3">
			<form>
				batch name:<input placeholder="batch name" type="text"
					data-ng-model="batch.newBatchInput" />
				<div data-ng-controller="addPersonController as addPerson">
					<fieldset data-ng-repeat="choice in addPerson.choices">
						first name: <input type="text" data-ng-model="choice.firstName" name=""
							placeholder="first name">last name: <input type="text"
							data-ng-model="choice.lastName" name="" placeholder="last name">
						
						<button class="remove" data-ng-show="$last"
							data-ng-click="addPerson.removeChoice()">-</button>
					</fieldset>
					<button class="addfields" data-ng-click="addPerson.addNewChoice()">Add
						person</button>
				</div>
				<button data-ng-click="batch.postBatch()" class="btn btn-info btn-xs" type="submit">Create
					Batch</button>
			</form>
		</div>
		</uib-tab>
		<uib-tab data-ng-click="tabctrl.getBatches()" heading="Update/Delete Batch" classes="btn-sm">
		<div class="col-md-5">
			<table data-ng-hide="batch.showUpdateFields" class="table table-bordered table-hover table-condensed">
			<thead>
			<tr>
			<th style="text-align:center">Batch ID</th>
			<th style="text-align:center">Batch Name</th>
			<th style="text-align:center">Action</th>
			</tr>
			</thead>
			<tbody >
			<tr data-ng-repeat="b in tabctrl.newData" align="center">
			<td>{{b.id}}</td>
			<td>{{b.name}}</td>

			<td><button data-ng-click="batch.showUpdateBatchInit(b)" class="btn btn-warning tableButton">update</button><button class="btn btn-danger tableButton">delete</button></td>			

			</tr>
			</tbody>
			</table>
			<div data-ng-show = "batch.showUpdateFields">
					<input type="text" placeholder="{{batch.updatedBranch.name}}"/><button class="btn btn-danger" data-ng-click="batch.updateBatch(batch.updatedBranch)">Submit Update</button><button class="btn btn-warning" data-ng-click="batch.cancelUpdate()">Cancel Update</button>
					<table class="table table-bordered table-hover">
					<thead>
					<tr>
					<th style="text-align:center">First Name</th>
					<th style="text-align:center">Last Name</th>
					</tr>
					<tbody>
					<tr data-ng-repeat="b in batch.updatedBranch.persons" align="center">
					<td>{{b.firstName}}</td>
					<td>{{b.lastName}}</td>
					</tr>
					</tbody>
					</table>
					
					<div data-ng-controller="addPersonController as addPerson">
					<fieldset data-ng-repeat="choice in addPerson.choices">
						first name: <input type="text" data-ng-model="choice.firstName" name=""
							placeholder="first name">last name: <input type="text"
							data-ng-model="choice.lastName" name="" placeholder="last name">
						
						<button class="remove" data-ng-show="$last"
							data-ng-click="addPerson.removeChoice()">-</button>
					</fieldset>
					<button class="addfields" data-ng-click="addPerson.addNewChoice()">Add
						person</button>
				</div>
				</div>
		
		</div>
		</uib-tab> </uib-tabset>
		</div>
	</div>
</div>



